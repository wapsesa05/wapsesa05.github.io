(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SwapTxs"],{"0fce":function(e,t,o){"use strict";o("a71c")},"26d9":function(e,t,o){"use strict";o("cffb")},"57c9":function(e,t,o){"use strict";var i=o("7a23"),c=o("afd7"),n=o.n(c);const r={class:"tx-li-item_1"},s={style:{display:"flex","align-items":"center","justify-content":"left","min-width":"42%"}},l={style:{display:"flex","align-items":"center",flex:"1","justify-content":"center","overflow-x":"hidden","min-width":"0.4rem"}},a={key:0,src:n.a,style:{width:"100%"},alt:"",srcset:""},d={key:1,class:"iconfont icon-jiantou2"},m={style:{display:"flex","align-items":"center","min-width":"42%","justify-content":"right","flex-wrap":"wrap"}},h={style:{"text-align":"right","word-break":"break-word","margin-left":"0.1rem"}},u={class:"tx-li-item_3"},f={key:0},b={key:1,style:{color:"#999999"}},p={key:2};function j(e,t,c,n,j,k){var v,O,g,y,w,x,_,T,N,V,C,B;const E=Object(i["resolveComponent"])("van-image");return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{class:"tx-li-item",onClick:t[0]||(t[0]=Object(i["withModifiers"])((...e)=>k.goLink&&k.goLink(...e),["stop"]))},[Object(i["createElementVNode"])("div",r,[Object(i["createElementVNode"])("div",s,[Object(i["createVNode"])(E,{round:"",width:"0.32rem",height:"0.32rem","icon-size":"0.32rem",style:{"margin-right":"0.1rem"},"lazy-load":"","show-loading":"",src:null!==(v=c.item)&&void 0!==v&&v.from_address_logo_url?e.$f.formatIcon({logo_url:c.item.from_address_logo_url}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"]),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(c.item.from_amount))+" "+Object(i["toDisplayString"])(c.item.from_symbol||""),1)]),Object(i["createElementVNode"])("div",l,[0===(null===(O=c.item)||void 0===O?void 0:O.is_merged)&&1e3*(null===(g=c.item)||void 0===g?void 0:g.time)>=Date.now()-6e4&&"timeout"!==(null===(y=c.item)||void 0===y?void 0:y.status)&&"fail"!==(null===(w=c.item)||void 0===w?void 0:w.status)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",a)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",d))]),Object(i["createElementVNode"])("div",m,[Object(i["createVNode"])(E,{round:"",width:"0.32rem",height:"0.32rem","icon-size":"0.32rem",style:{"margin-right":"0.1rem","min-width":"0.32rem"},"lazy-load":"","show-loading":"",src:null!==(x=c.item)&&void 0!==x&&x.to_address_logo_url?e.$f.formatIcon({logo_url:c.item.to_address_logo_url}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"]),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(c.item.to_amount)),1),Object(i["createElementVNode"])("span",h,Object(i["toDisplayString"])(c.item.to_symbol||""),1)])]),Object(i["createElementVNode"])("ul",u,[Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(c.item.time?e.$f.formatDate(c.item.time):"--"),1),1===c.item.is_merged&&""!==c.item.from_price_usd?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",f,Object(i["toDisplayString"])(e.$f.formatNumberCurrencyUnit((Number(c.item.from_amount)||0)*(Number(c.item.from_price_usd)||0))),1)):!("timeout"===(null===(_=c.item)||void 0===_?void 0:_.status)||"fail"===(null===(T=c.item)||void 0===T?void 0:T.status)||1e3*(null===(N=c.item)||void 0===N?void 0:N.time)<Date.now()-6e4)||0!==c.item.is_merged||"solana"!==(null===(V=c.item)||void 0===V?void 0:V.chain)&&"ton"!==(null===(C=c.item)||void 0===C?void 0:C.chain)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",p,"--")):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",b,Object(i["toDisplayString"])("fail"===(null===(B=c.item)||void 0===B?void 0:B.status)?e.$t("failed"):e.$t("timeout")),1))])])])}var k={name:"TxItem",props:{item:Object},data(){return{}},methods:{goLink(){this.$f.openBrowser(this.$f.formatExplorerUrl(this.item.chain,this.item.transaction,"tx"))}}},v=(o("26d9"),o("6b0d")),O=o.n(v);const g=O()(k,[["render",j],["__scopeId","data-v-11f60edf"]]);t["a"]=g},"9b73":function(e,t,o){"use strict";o.r(t);var i=o("7a23");const c={class:"swapTxs-container"},n={style:{"background-color":"#fff"}},r={class:"pop-content"},s={class:"search-result"};function l(e,t,l,a,d,m){var h;const u=Object(i["resolveComponent"])("van-icon"),f=Object(i["resolveComponent"])("van-nav-bar"),b=Object(i["resolveComponent"])("TxItem"),p=Object(i["resolveComponent"])("DynamicScrollerItem"),j=Object(i["resolveComponent"])("DynamicScroller"),k=Object(i["resolveComponent"])("van-empty"),v=Object(i["resolveComponent"])("van-search"),O=Object(i["resolveComponent"])("van-cell"),g=Object(i["resolveComponent"])("van-image"),y=Object(i["resolveComponent"])("van-action-sheet");return Object(i["openBlock"])(),Object(i["createElementBlock"])("section",c,[Object(i["createVNode"])(f,{"left-text":"","left-arrow":"",fixed:"",placeholder:"","safe-area-inset-top":"","z-index":"2",title:e.$t("allTransactionHistory"),onClickLeft:t[0]||(t[0]=t=>e.$router.go(-1)),onClickRight:t[1]||(t[1]=e=>d.show=!0)},{right:Object(i["withCtx"])(()=>[Object(i["createVNode"])(u,{name:"filter-o",size:"0.4rem"})]),_:1},8,["title"]),Object(i["createElementVNode"])("ul",n,[(null===(h=m.filterTxs)||void 0===h?void 0:h.length)>0?(Object(i["openBlock"])(),Object(i["createBlock"])(j,{key:0,items:m.filterTxs,"min-item-size":200,"key-field":"id","page-mode":"",buffer:1e3,class:"scroller"},{default:Object(i["withCtx"])(({item:e,index:t,active:o})=>[Object(i["createVNode"])(p,{item:e,active:o,"data-index":t},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(b,{item:e},null,8,["item"])]),_:2},1032,["item","active","data-index"])]),_:1},8,["items"])):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createVNode"])(k,{class:"empty",image:e.emptyNoDataLight,description:e.$t("empty")},null,8,["image","description"]),[[i["vShow"],m.filterTxs&&0===m.filterTxs.length&&!d.txsLoading]])]),Object(i["createVNode"])(y,{show:d.show,"onUpdate:show":t[4]||(t[4]=e=>d.show=e),title:e.$t("orderFilter"),style:{"--van-popup-background-color":"#fff","--van-action-sheet-item-background":"#fff"},"cancel-text":e.$t("cancel"),"close-on-click-action":"",closeable:!1},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",r,[Object(i["createVNode"])(v,{modelValue:d.keyword,"onUpdate:modelValue":t[2]||(t[2]=e=>d.keyword=e),modelModifiers:{trim:!0},background:"#fff",shape:"round",placeholder:e.$t("searchTokenContractName")},null,8,["modelValue","placeholder"]),Object(i["createElementVNode"])("div",s,[Object(i["withDirectives"])(Object(i["createVNode"])(k,{class:"empty",image:e.emptyNoSearchLight,description:e.$t("noSearchResults")},null,8,["image","description"]),[[i["vShow"],m.searchResultTokens&&0===m.searchResultTokens.length]]),Object(i["withDirectives"])(Object(i["createVNode"])(O,{clickable:"",center:"",title:e.$t("historicalTransactionTokens"),onClick:t[3]||(t[3]=e=>m.confirmSelectToken(""))},{"right-icon":Object(i["withCtx"])(()=>[d.actionToken?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:0,size:"0.32rem",color:"#558BED",name:"success"}))]),_:1},8,["title"]),[[i["vShow"],m.searchResultTokens&&m.searchResultTokens.length>0]]),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(m.searchResultTokens,(t,c)=>(Object(i["openBlock"])(),Object(i["createBlock"])(O,{clickable:"",center:"",key:c,title:t.symbol,onClick:e=>m.confirmSelectToken(t)},{icon:Object(i["withCtx"])(()=>[Object(i["createVNode"])(g,{round:"",width:"0.36rem",height:"0.36rem","icon-size":"0.36rem",style:{"margin-right":"0.1rem"},"lazy-load":"","show-loading":"",src:e.$f.formatIcon(t.address+"-"+t.chain),"error-icon":o("aeccf")},null,8,["src","error-icon"])]),"right-icon":Object(i["withCtx"])(()=>[t.address===d.actionToken?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:0,size:"0.32rem",color:"#558BED",name:"success"})):Object(i["createCommentVNode"])("",!0)]),_:2},1032,["title","onClick"]))),128))])])]),_:1},8,["show","title","cancel-text"])])}o("14d9");var a=o("57c9"),d=o("365c"),m={name:"Txs",components:{TxItem:a["a"]},data(){return{show:!1,keyword:"",txs:[],txsLoading:!1,searchTokens:[],filterToken:[],actionToken:""}},computed:{txsTokens(){let e=[],t={};return this.txs.forEach(o=>{t[o.from_address]||(e.push({address:o.from_address,symbol:o.from_symbol,chain:o.chain}),t[o.from_address]=!0),t[o.to_address]||(e.push({address:o.to_address,symbol:o.to_symbol,chain:o.chain}),t[o.to_address]=!0)}),e},searchResultTokens(){var e;return(null===(e=this.searchTokens)||void 0===e?void 0:e.length)>0?this.searchTokens:this.txsTokens},filterTxs(){var e,t;return this.actionToken?(null===(e=this.txs)||void 0===e||null===(t=e.filter)||void 0===t?void 0:t.call(e,e=>e.from_address===this.actionToken||e.to_address===this.actionToken))||[]:this.txs}},watch:{"$store.state.currentAccount"(e){e&&this.getUserAllTxs()},keyword(){this.search()}},created(){this.getUserAllTxs()},methods:{search(){if(""!==this.keyword){var e,t;let o=new RegExp(this.keyword,"i");this.searchTokens=(null===(e=this.txsTokens)||void 0===e||null===(t=e.filter)||void 0===t?void 0:t.call(e,e=>o.test(e.address)||o.test(e.symbol)))||[]}else this.searchTokens=this.txsTokens},getUserAllTxs(){let e=this.$store.state.currentAccount;e&&(this.txsLoading=!0,Object(d["ob"])().then(e=>{var t,o;this.txs=(null===e||void 0===e||null===(t=e.filter)||void 0===t?void 0:t.call(e,e=>1===e.is_merged||0===e.is_merged&&Date.now()-1e3*e.time<6e5))||[],null!==e&&void 0!==e&&null!==(o=e.some)&&void 0!==o&&o.call(e,e=>0===e.is_merged&&Date.now()-1e3*e.time<6e5)&&setTimeout(()=>{this.getUserAllTxs()},6e3)}).finally(()=>{this.txsLoading=!1}))},confirmSelectToken(e){this.actionToken=e?e.address:"",this.show=!1}}},h=(o("0fce"),o("6b0d")),u=o.n(h);const f=u()(m,[["render",l],["__scopeId","data-v-4106d49f"]]);t["default"]=f},a71c:function(e,t,o){},aeccf:function(e,t,o){e.exports=o.p+"static/img/icon-default.75f6e9a0.png"},afd7:function(e,t,o){e.exports=o.p+"static/img/loading.fdd45987.svg"},cffb:function(e,t,o){}}]);